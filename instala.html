---
layout: default
title: ¿Cómo instalar Ruby on Rails?
---
<header>
  <a href="index.html" alt="Inicio" title="Descubre ruby on Rails">
  <img id='logo' src="img/rails_logo.png" alt="Rails Logo" title="Logotipo de Rails" />
  </a>
  <h2>¿Cómo instalar con <em>Ruby on Rails</em>?</h2>
  <p>¿Qué pasos hay que seguir para instalar Rails?</p>
</header>
<section id="instalacion">

  <p>En general, instalar Rails es tan sencillo como <tt>gem install rails</tt>, pero primero hay que tener
  el lenguaje <i>Ruby</i> y el gestor de librerías <i>Rubygems</i> en el sistema, lo que varía un poco de una plataforma a otra:</p>
  <h3>GNU/Linux</h3>
  <p>
  Linux es un entorno habitual para servidores, con lo que muchos desarrolladores lo escogen minimizando
  así las diferencias entre el entorno de desarrollo y el de producción.
  </p>
  <p>
    <b>RVM</b>
    <br>
    Evita administrar Ruby, RubyGems y demás con el gestor de paquetes de tu distribución ya que estos suelen
    estar desactualizados. En su lugar, puedes emplear "RVM".
    <br>
    RVM te permite instalar y mantener varias versiones de ruby a la vez. Puedes encontrar más información 
    sobre Ruby Version Mananger (RVM) en <a href="http://rvm.io">http://rvm.io</a>
  </p>
  <br>
  <p>
    <b>Prerrequisitos de RVM:</b>
    <br>
    <pre>
    sudo apt-get install build-essential openssl libreadline6 libreadline6-dev curl git-core zlib1g
    zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf
    libc6-dev ncurses-dev automake libtool bison subversion pkg-config
    </pre>
    Este comando puede variar entre versiones y distribuciones, está probado en Ubuntu 13.04 y 14.04 consulta la
    documentación de la <a href='https://rvm.io/rvm/prerequisites'>web de RVM</a> y de tu distribución.
  </p>
  <br>

  <p>
  <b>Instalación de la firma</b>
  <br>
  <pre>
    command curl -sSL https://rvm.io/mpapis.asc | gpg --import 
  </pre>
    El RVM a partir de la versión 1.26 introduce versiones firmadas y comprobación automática de las mismas. Para ello necesitamos instalar dicha firma. En caso contrario podría darnos problemas al instalar RVM.
  </p>
  <br>
  
  <p>
  <b>Instalación rápida de RVM</b>
  <br>
    <pre>
      \curl -sSL https://get.rvm.io | bash -s stable --rails --ruby 
    </pre>
    Este comando instala las últimas versiones estables de rvm, ruby y rails. Ejecutaremos este comando después de instalar la firma. Comprobamos que la instalación se ha realizado correctamente probando los comandos rvm, irb o rails.
    <br>
    Se recomienda realizar la instalación paso a paso para entender mejor el proceso y llevar un mejor control de lo instalado.

  </p>
  <br>

  <p>
    <b>Instalación de RVM paso a paso</b>
    <br>
    <pre>
    \curl -L https://get.rvm.io | bash -s stable 
    </pre>
  </p>
  <br>
  <p>
    <b>Ejecuta RVM:</b>
    <br>
    <pre>
    source $HOME/.rvm/scripts/rvm
    </pre>
  </p>
  <br>
  <p>
    <b>Comprueba las versiones disponibles de Ruby:</b>
    <br>
    <pre>
    rvm list known
    </pre>
  </p>
  <p>
    Si nos fijamos en la sección MRI Rubies vemos las versiones disponibles
    <pre>
    # MRI Rubies
    [ruby-]1.8.6[-p420]
    [ruby-]1.8.7[-head] # security released on head
    [ruby-]1.9.1[-p431]
    [ruby-]1.9.2[-p330]
    [ruby-]1.9.3[-p551]
    [ruby-]2.0.0[-p643]
    [ruby-]2.1.4
    [ruby-]2.1[.5]
    [ruby-]2.2[.1]
    [ruby-]2.2-head
    ruby-head
    </pre>
  </p>
  <br>
  <p>
    <b>Elige la versión de Ruby a instalar:</b>
    <br>
    <pre>
    rvm install ruby-2.2.1
    </pre>
  </p>
  <p>
    <b>ó</b>
    <br>
    <pre>
    rvm install ruby-2.2
    </pre>
    Este comando instalará la última versión de ruby dentro de la 2.2
  </p>
  <br>

  <p>
    <b>Comprueba los comandos: rvm, ruby, irb, gem</b>
    <br>
    <pre>
    $ rvm list

    rvm rubies

    =* ruby-2.2.1-p85 [ x86_64 ]

    # =&gt; - current
    # =* - current &amp;&amp; default
    #  * - default

    $ gem -v
    2.4.6
    $ ruby -v
    ruby 2.2.1p85 (2015-02-26 revision 49769) [x86_64-linux]
    $ irb
    2.2.1 :001 &gt; puts 'Hola'
    Hola
     =&gt; nil
    2.2.1 :002 &gt; quit
    </pre>
  </p>
  <br>

  <p>
    <b>Instala Rails</b>
    <br>
    <pre>
      gem install rails
    </pre>
  </p>
  <p>
    <b>ó</b>
    <br>
    <pre>
      gem install rails -v=4.2.1
    </pre>
    Este comando instala una versión concreta de Rails
  </p>
  <br>

  <p>
    <b>Comprueba la configuración</b>
    <br>
    <pre>
      type rvm | head -n -1
    </pre>
    Comprueba que RVM esté configurado correctamente. Si al ejecutar el comando no nos aparece "rvm is a function" es que rvm no está configurado adecuadamente.<br>
    Una posible solución es ir a la pestaña <b>Editar/Preferencias del perfil/Título y comando</b> de la consola y asegúrate de que está marcada la opción “Ejecutar el comando como un intérprete de conexión”.
  </p>
  <br>

<div id="captura">
  <img title="capturaComando" src="img/captura1.png">
</div>

<br><br>
  

  <h3>OSX</h3>
  <p>
    Mac OS es una plataforma muy popular entre desarrolladores Rails.
    Para configurar el entorno de desarrollo necesitarás los siguientes componentes:
  </p>
  <p>
    <b>Command Line Tools for XCode</b>
    <br>
    <ul>
      <li>
        Crea un <a href="https://developer.apple.com/programs/register/">Apple ID</a> accede con el tuyo si 
        ya lo tienes.
      </li>
    </ul>
    Registrate con la misma ID que usas para otros servicios de Apple como iTunes, iCloud, etc&hellip;
    <ul>
      <li>Accede al Apple Developer Portal</EM></li>
      <li>Busca "Command Line Tools (OS X Lion) for Xcode" o "Command Line Tools (OS X Mountain Lion) for Xcode" </li>
      <li>Descarga e instala el paquete</li>
    </ul>
  </p>
  <br>
  <p>
    <b>Homebrew</b>
    <br>
    Homebrew es un sistema de gestión de paquetes que hace muy fácil instalar centenares de proyectos de
    fuente abierta y compilarlos desde las fuentes para optimizar su rendimiento en tu máquina.
    
    <pre>
    $ ruby -e "$(curl -fsSkL raw.github.com/mxcl/homebrew/go)"
    ==&gt; This script will install:
    /usr/local/bin/brew
    /usr/local/Library/...
    /usr/local/share/man/man1/brew.1
    Press ENTER to continue or any other key to abort
    </pre>
  </p>
  <br>
  <p>
    <b>Git</b>
    <br>
    Git es el sistema de control de versiones más popular en la comunidad Ruby.
    <pre>
    $ brew install git
    ==&gt; Downloading http://git-core.googlecode.com/files/git-1.8.1.1.tar.gz
    ########################################################### 100.0%
    </pre>
  </p>
  <br>
  <p>
    <b>RVM</b>
    <br>
    RVM te permite instalar y mantener varias versiones de ruby a la vez. Puedes encontrar más información sobre Ruby Version Mananger (RVM) en <a href="http://rvm.io">http://rvm.io</a>
    <pre>
      $ bash -s stable &lt; &lt;(curl -L https://get.rvm.io )
      source ~/.bash_profile
    </pre>

    <pre>
      $ rvm install 1.9.3 --with-gcc=clang
      Searching for binary rubies, this might take some time.
      No binary rubies available for: osx/10.8/x86_64/ruby-1.9.3-p374.
      Continuing with compilation. Please read 'rvm mount' to get more information on binary rubies.
      Installing Ruby from source to: /Users/burtlo/.rvm/rubies/ruby-1.9.3-p374, this may take a while depending on your cpu(s)...
      ruby-1.9.3-p374 - #downloading ruby-1.9.3-p374, this may take a while depending on your connection...
      ######################################################################## 100.0%
    </pre>
    <pre>
      rvm use 1.9.3 --default
      $ gem install rails
    </pre>
  </p>
  <br>

  <h3>Microsoft Windows</h3>
  <p>
    Iniciarse en Rails sobre Windows es relativamente fácil gracias a los esfuerzos de Engine Yard 
    (<a href="http://engineyard.com">http://engineyard.com</a>) que han desarrollado <i>RailsInstaller</i>
    (<a href="http://railsinstaller.org/">http://railsinstaller.org/</a>), un instalador en un sólo paquete
    de todas las herramientas que necesitas para ponerte a trabajar, incluido Rails.
  </p>
  <p>
    Asegúrate de que durante la instalación seleccionas la casilla correspondiente a las variables de entorno (Add executables for Ruby, DevKit and Git to the PATH), aunque por defecto aparece seleccionada junto a la casilla Install Git (recommended)
  </p>
  <p>
    Más allá de la instalación, sin embargo todo empieza a complicarse. Es posible que en la versión del instalador el paquete rubygems-update esté desactualizado. Después de crear nuestra aplicación con "rails new myapp", al tratar de ejecutar bundle install nos dará un error. Para solucionarlo debemos instalar manualmente la última versión de la gema disponible en (<a href="https://rubygems.org/pages/download">https://rubygems.org/pages/download</a>). Los pasos podrían ser los siguientes:
    <br>
    <br>
    <p>
      <b>Comprueba la versión actual de la gema</b>
      <br>
      <pre>
        C:\>gem --version
      </pre>
      </p>
    <br>
    <p>
      <b>Instala y ejecuta la gema que has descargado anteriormente</b>
      <br>
      <pre>
        C:\>gem install --local C:\rubygems-update-2.4.6.gem
        C:\>update_rubygems --no-ri --no-rdoc
      </pre>
        Para instalarla nos situamos en el directorio donde se encuentre la gema que nos hemos descargado. Por ejemplo C:\ .
        Es posible que se nos solicite el permiso de administrador el realizar esta operación. Al ejecutar de nuevo el comando 
        gem --version nos debe aparecer una versión actualizada.
      </p>
    <br>

    <p>
      <b>Desinstalamos rubygems-update</b>
      <br>
      <pre>
        C:\>gem uninstall rubygems-update -x
      </pre>      
      </p>
    <br>
    
    <p>
      <b>Ejecutamos bundle install</b>
      <br>
      <pre>
        C:\>cd myapp
        C:\myapp>bundle install
      </pre>
       Bundle es una gema de ruby que lleva la cuenta e instala las diferentes versiones de las gemas que necesitamos. Ya tenemos el entorno instalado y disponible para trabajar con él.      
      </p>
    <br>    
    Según vayas utilizando más Gemas
    (que es como se llama en Ruby a las librerías) y otras dependencias descubrirás que muchas utilizan
    <i>extensiones nativas</i> escritas en Lenguaje C para mayor rendimiento, y salvo que los autores de esas 
    gemas hayan puesto un especial empeño en ser multiplataforma desencadenarán complicaciones.
  </p>
  <p>
    <i>
      Si hay alguna posibilidad de que evites tener que usar Windows como entorno de desarrollo, hazlo.
      Como alternativa, considera configurar una máquina virtual con Virtual Box 
      (<a href="http://www.virtualbox.org/">http://www.virtualbox.org/</a>) y utiliza Ubuntu Linux
      (<a href="http://www.ubuntu.com/download/ubuntu/download">http://www.ubuntu.com/download/ubuntu/download</a>)
      en su lugar.
    </i>
  </p>
  <br>

  <h3>Una alternativa: desarrollo en un entorno alojado</h3>
  <p>
    Puedes usar Ruby on Rails sin instalarlo realmente en tu ordenador.
    El desarrollo alojado usando un servicio como <a href='http://n2o.io'>Nitrous.io</a> (o cualquier otro similar,
    que no nos llevamos comisión) significa que obtienes un ordenador «en la nube» que utilizas desde tu navegador
    web o a traves de <i>ssh</i>.
  </p>
  <p>
    Cualquier ordenador puede acceder a un entorno alojado pero es recomendable tener una conexión de banda ancha.
    Nitrous.io es gratuito para entornos de poca potencia.
  </p>

  <p>
    Si cualquiera de estos pasos te fallara o detectas que se ha quedado desactualizado, no dudes en abrirnos
    un issue en
    <a href='https://github.com/aprodeweb/rubyonrails.org.es/issues/new'>https://github.com/aprodeweb/rubyonrails.org.es/issues/new</a>
  </p>
</section>


